// @license magnet:?xt=urn:btih:0b31508aeb0634b347b8270c7bee4d411b5d4109&dn=agpl-3.0.txt AGPL-v3.0
(self.webpackChunkol=self.webpackChunkol||[]).push([[799],{48120:function(o,t,e){"use strict";e.r(t),e.d(t,{init:function(){return l},initHomepageGraphs:function(){return s},initPublishersGraph:function(){return c},plotAdminGraphs:function(){return d}}),e(24812),e(56977),e(92222),e(32196),e(452),e(99528),e(7342),e(35325),e(59868);var i=e(19755);function n(o,t,e){var n,a,r,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#748d36";if(t.length){for(n=0;n<t.length;++n)t[n][0]+=36e5;return a={series:{bars:{show:!0,fill:1,fillColor:d,color:d,align:"left",barWidth:864e5},points:{show:!1},color:d},grid:{hoverable:!0,show:!1},xaxis:{mode:"time"}},r=i.plot(o,[t],a),o.bind("plothover",(function(o,t,n){var a,r,d;i("#x").text(t.x),i("#y").text(t.y.toFixed(0)),n?(i("#chartLabelA").remove(),a=n.datapoint[0],r=new Date(a).toDateString(),d=n.datapoint[1].toFixed(0),s(n.pageX,n.pageY,"".concat(d," ").concat(e," ").concat(r))):i("#chartLabelA").remove()})),r}function s(o,t,e){i('<div id="chartLabelA">'.concat(e,"</div>")).css({position:"absolute",display:"none",top:t+12,left:o+12,border:"1px solid #ccc",padding:"2px",backgroundColor:"#efefef",color:"#454545",fontSize:"11px",webkitBoxShadow:"1px 1px 3px #333",mozBoxShadow:"1px 1px 1px #000",boxShadow:"1px 1px 1px #000"}).appendTo("body").fadeIn(200)}}function a(o,t,e,a){i("#".concat(o)).length&&function(o){var t,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,d=document.getElementById(o),s="graph-json-".concat(o),c=document.getElementById(s);if(!d)throw new Error("No graph associated with ".concat(o," on the page."));if(c){try{t=JSON.parse(c.textContent)}catch(o){throw new Error("Unable to parse JSON in ".concat(s))}return a?n(i(d),t,a,r):i.plot(i(d),[{data:t}],e)}throw new Error("No data associated with ".concat(o,' - make sure a script tag with type text/json and id "').concat(s,'" is present on the page.'))}(o,t,e,a)}var r={series:{stack:0,bars:{show:!0,align:"left",barWidth:72e6}},grid:{hoverable:!0,show:!0,borderWidth:1,borderColor:"#d9d9d9"},xaxis:{mode:"time"},legend:{show:!0,position:"nw"}};function d(){a("editgraph",{},"edit(s) on"),a("membergraph",{},"new members(s) on"),a("works_minigraph",{}," works on "),a("editions_minigraph",{}," editions on "),a("covers_minigraph",{}," covers on "),a("authors_minigraph",{}," authors on "),a("lists_minigraph",{}," lists on "),a("members_minigraph",{}," members on "),a("books-added-per-day",r)}function s(){a("visitors-graph",{},"unique visitors on","#e44028"),a("members-graph",{},"new members on","#748d36"),a("edits-graph",{},"catalog edits on","#00636a"),a("lists-graph",{},"lists created on","#ffa337"),a("ebooks-graph",{},"ebooks borrowed on","#35672e")}function c(){document.getElementById("chartPubHistory")&&function(){var o,t,e,n,a,r,d;function s(o,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".chartUnzoom",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".chartZoom";document.dispatchEvent(new CustomEvent("filter",{detail:{yearFrom:o,yearTo:t}})),i(e).hide(),i(n).removeClass("hidden").show()}o=[{data:JSON.parse(document.getElementById("graph-json-chartPubHistory").textContent)}],t={series:{bars:{show:!0,fill:.6,color:"#615132",align:"center"},points:{show:!0},color:"#615132"},grid:{hoverable:!0,clickable:!0,autoHighlight:!0,tickColor:"#d9d9d9",borderWidth:1,borderColor:"#d9d9d9",backgroundColor:"#fff"},xaxis:{tickDecimals:0},yaxis:{tickDecimals:0},selection:{mode:"xy",color:"#00636a"},crosshair:{mode:"xy",color:"rgba(000, 099, 106, 0.4)",lineWidth:1}},e=i("#chartPubHistory"),d=null,e.bind("plothover",(function(o,t,e){var n,a;i("#x").text(t.x.toFixed(0)),i("#y").text(t.y.toFixed(0)),e?d!==e.datapoint&&(d=e.datapoint,i("#chartLabel").remove(),n=e.datapoint[0].toFixed(0),a=e.datapoint[1].toFixed(0),function(o,t,e){i('<div id="chartLabel">'.concat(e,"</div>")).css({position:"absolute",display:"none",top:t+12,left:o+12,border:"1px solid #615132",padding:"2px","background-color":"#fffdcd",color:"#615132","font-size":"11px",opacity:.9,"z-index":100}).appendTo("body").fadeIn(200)}(e.pageX,e.pageY,1===a?"".concat(a," edition in ").concat(n):"".concat(a," editions in ").concat(n))):(i("#chartLabel").remove(),d=null)})),e.bind("plotclick",(function(o,t,e){if(e){n.unhighlight();var i=e.datapoint[0].toFixed(0);s(i,i),n.highlight(e.series,e.datapoint)}else n.unhighlight()})),e.bind("plotselected",(function(a,r){n=i.plot(e,o,i.extend(!0,{},t,{xaxis:{min:r.xaxis.from,max:r.xaxis.to},yaxis:{min:r.yaxis.from,max:r.yaxis.to}})),s(r.xaxis.from.toFixed(0),r.xaxis.to.toFixed(0))})),a=(n=i.plot(e,o,t)).getAxes().xaxis.min.toFixed(0),r=n.getAxes().xaxis.max.toFixed(0),i(".resetSelection").on("click",(function(){s((n=i.plot(e,o,t)).getAxes().xaxis.min.toFixed(0),n.getAxes().xaxis.max.toFixed(0),".chartZoom",".chartUnzoom")})),i(".chartYaxis").css({top:"60px",left:"-60px"}),a===r-1?i(".clickdata").text("Published in ".concat(a)):i(".clickdata").text("Published between ".concat(a," & ").concat(r-1,"."))}()}function l(){d(),s(),c()}}}]);
//# sourceMappingURL=graphs.230380caa2f63800b527.js.map
// @license-end
